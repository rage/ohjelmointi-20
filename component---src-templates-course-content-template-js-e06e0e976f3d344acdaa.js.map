{"version":3,"file":"component---src-templates-course-content-template-js-e06e0e976f3d344acdaa.js","mappings":"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","sources":["webpack://ohjelmoinnin-mooc/./src/components/CoursePageFooter.js","webpack://ohjelmoinnin-mooc/./src/components/EndOfSubSection.js","webpack://ohjelmoinnin-mooc/./src/util/dom.js","webpack://ohjelmoinnin-mooc/./src/templates/CourseContentTemplate.js"],"sourcesContent":["import React from \"react\"\nimport styled from \"styled-components\"\nimport PagesInThisSection from \"../partials/PagesInThisSection\"\nimport withSimpleErrorBoundary from \"../util/withSimpleErrorBoundary\"\n\nconst CoursePageFooterWrapper = styled.footer`\n  background-color: white;\n  color: black;\n  padding: 3rem;\n`\n\nconst CoursePageFooterContent = styled.div`\n  display: flex;\n  justify-content: center;\n  max-width: 960px;\n  margin: 0 auto;\n`\n\nclass CoursePageFooter extends React.Component {\n  render() {\n    return (\n      <CoursePageFooterWrapper>\n        <CoursePageFooterContent>\n          <PagesInThisSection\n            style={{ width: \"400px\", fontSize: \"0.8rem\", margin: 0 }}\n          />\n        </CoursePageFooterContent>\n      </CoursePageFooterWrapper>\n    )\n  }\n}\n\nexport default withSimpleErrorBoundary(CoursePageFooter)\n","import React, { Fragment } from \"react\"\nimport styled from \"styled-components\"\nimport PagesContext from \"../contexes/PagesContext\"\nimport { nthIndex } from \"../util/strings\"\nimport { Link } from \"gatsby\"\nimport { withTranslation } from \"react-i18next\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { faArrowRight as icon } from \"@fortawesome/free-solid-svg-icons\"\nimport withSimpleErrorBoundary from \"../util/withSimpleErrorBoundary\"\n\nconst StyledLink = styled(Link)`\n  color: black;\n  text-decoration: none;\n  padding: 1rem;\n  border-radius: 0.25rem;\n  margin: 1rem 0;\n  display: inline-block;\n  width: 100%;\n  border-radius: 10px;\n  transition: background-color 0.2s;\n\n  &:hover {\n    text-decoration: none;\n    color: black;\n    background-color: #eeeeee;\n  }\n`\n\nconst StyledIcon = styled(FontAwesomeIcon)`\n  vertical-align: middle;\n  margin-right: 1rem;\n  margin-left: 0.5rem;\n  color: var(--color);\n  font-size: 1.5em;\n`\n\nconst ButtonWrapper = styled.div`\n  display: flex;\n  align-items: center;\n`\n\nclass EndOfSubSection extends React.Component {\n  render() {\n    return (\n      <PagesContext.Consumer>\n        {(value) => {\n          const currentPath = value.current.frontmatter.path\n          let sectionPath = currentPath\n          const sectionSeparator = nthIndex(currentPath, \"/\", 2)\n          if (sectionSeparator !== -1) {\n            sectionPath = currentPath.substr(0, sectionSeparator)\n          }\n          const sectionPages = value.all\n            .filter((o) => o.path.startsWith(`${sectionPath}/`))\n            .sort((a, b) => {\n              a = a.path.toLowerCase()\n              b = b.path.toLowerCase()\n\n              return a > b ? 1 : b > a ? -1 : 0\n            })\n\n          let currentPageIndex = null\n\n          sectionPages.forEach((page, i) => {\n            if (page.path !== currentPath) {\n              return\n            }\n            currentPageIndex = i\n          })\n\n          let nextPart = null\n\n          if (\n            currentPageIndex !== null &&\n            currentPageIndex !== sectionPages.length - 1\n          ) {\n            nextPart = sectionPages[currentPageIndex + 1]\n          }\n          return (\n            <div>\n              {this.props.t(\"endReached\")}{\" \"}\n              {nextPart && (\n                <Fragment>\n                  {this.props.t(\"continueToNext\")}{\" \"}\n                  <ButtonWrapper>\n                    <StyledLink to={nextPart.path}>\n                      <StyledIcon icon={icon} />\n                      {currentPageIndex + 2}. {nextPart.title}\n                    </StyledLink>\n                  </ButtonWrapper>\n                </Fragment>\n              )}\n              <p>{this.props.t(\"rememberToCheckPoints\")}</p>\n            </div>\n          )\n        }}\n      </PagesContext.Consumer>\n    )\n  }\n}\n\nexport default withTranslation(\"common\")(\n  withSimpleErrorBoundary(EndOfSubSection),\n)\n","export function tryToScrollToSelector(selector) {\n  if (typeof window === \"undefined\") {\n    return\n  }\n  try {\n    const element = document.querySelector(selector)\n    if (!element) {\n      console.warn(\"Could not find the element to scroll to.\")\n      return\n    }\n    element.scrollIntoView()\n  } catch (e) {\n    console.warn(\"Could not scroll element into view\", e)\n  }\n}\n","import React, { Fragment } from \"react\"\nimport { graphql } from \"gatsby\"\nimport styled from \"styled-components\"\nimport rehypeReact from \"rehype-react\"\nimport { navigate, Link } from \"gatsby\"\nimport { Helmet } from \"react-helmet\"\n\nimport Layout from \"./Layout\"\n\nimport getNamedPartials from \"../partials\"\nimport CoursePageFooter from \"../components/CoursePageFooter\"\nimport { getCachedUserDetails } from \"../services/moocfi\"\nimport \"./remark.css\"\nimport PagesContext from \"../contexes/PagesContext\"\nimport LoginStateContext, {\n  LoginStateContextProvider,\n} from \"../contexes/LoginStateContext\"\nimport Container from \"../components/Container\"\n\nimport { loggedIn } from \"../services/moocfi\"\nimport { capitalizeFirstLetter } from \"../util/strings\"\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { faArrowCircleUp as icon } from \"@fortawesome/free-solid-svg-icons\"\nimport EndOfSubSection from \"../components/EndOfSubSection\"\nimport { tryToScrollToSelector } from \"../util/dom\"\n\nconst StyledIcon = styled(FontAwesomeIcon)`\n  margin-right: 0.25rem;\n  font-size: 1em;\n`\n\nconst ContentWrapper = styled.article``\n\nconst UpLink = styled(Link)`\n  color: #332c2cb3 !important;\n  font-weight: bold;\n  margin-bottom: 1rem !important;\n  display: block;\n\n  :hover {\n    text-decoration: none;\n    color: #805050b3 !important;\n  }\n`\n\nexport default class CourseContentTemplate extends React.Component {\n  static contextType = LoginStateContext\n\n  async componentDidMount() {\n    if (typeof window !== \"undefined\" && window.location.hash) {\n      const selector = window.location.hash\n      setTimeout(() => {\n        tryToScrollToSelector(selector)\n      }, 100)\n      setTimeout(() => {\n        tryToScrollToSelector(selector)\n      }, 500)\n      setTimeout(() => {\n        tryToScrollToSelector(selector)\n      }, 1000)\n      setTimeout(() => {\n        tryToScrollToSelector(selector)\n      }, 2000)\n    }\n\n    if (!loggedIn()) {\n      return\n    }\n\n    let userInfo = await getCachedUserDetails()\n    const research = userInfo?.extra_fields?.research\n    if (research === undefined) {\n      navigate(\"/missing-info\")\n    }\n  }\n\n  render() {\n    const { data } = this.props\n    const { frontmatter, htmlAst } = data.page\n    const allPages = data.allPages.edges.map((o) => o.node?.frontmatter)\n    const partials = getNamedPartials()\n    const renderAst = new rehypeReact({\n      createElement: React.createElement,\n      components: partials,\n    }).Compiler\n\n    const parentSectionName = capitalizeFirstLetter(\n      `${frontmatter.path.split(/\\//g)[1].replace(/-/g, \" \")}`,\n    )\n    const parentSectionPath = `/${frontmatter.path.split(/\\//g)[1]}`\n\n    const filePath = data.page.fileAbsolutePath.substring(\n      data.page.fileAbsolutePath.lastIndexOf(\"/data/\"),\n      data.page.fileAbsolutePath.length,\n    )\n    return (\n      <Fragment>\n        <Helmet title={frontmatter.title} />\n        <PagesContext.Provider\n          value={{\n            all: allPages,\n            current: { frontmatter: frontmatter, filePath: filePath },\n          }}\n        >\n          <LoginStateContextProvider>\n            <Layout>\n              <Fragment>\n                <Container>\n                  <ContentWrapper>\n                    <UpLink to={parentSectionPath}>\n                      <StyledIcon icon={icon} />\n                      {parentSectionName}\n                    </UpLink>\n                    <h1>{frontmatter.title}</h1>\n                    {renderAst(htmlAst)}\n                    <EndOfSubSection />\n                  </ContentWrapper>\n                </Container>\n                <CoursePageFooter />\n              </Fragment>\n            </Layout>\n          </LoginStateContextProvider>\n        </PagesContext.Provider>\n      </Fragment>\n    )\n  }\n}\n\nexport const pageQuery = graphql`\n  query ($path: String!) {\n    page: markdownRemark(frontmatter: { path: { eq: $path } }) {\n      htmlAst\n      html\n      frontmatter {\n        path\n        title\n      }\n      fileAbsolutePath\n    }\n    allPages: allMarkdownRemark {\n      edges {\n        node {\n          id\n          frontmatter {\n            path\n            title\n          }\n        }\n      }\n    }\n  }\n`\n"],"names":["CoursePageFooterWrapper","styled","footer","withConfig","displayName","componentId","CoursePageFooterContent","div","CoursePageFooter","React","render","PagesInThisSection","style","width","fontSize","margin","withSimpleErrorBoundary","StyledLink","Link","StyledIcon","FontAwesomeIcon","ButtonWrapper","EndOfSubSection","PagesContext","Consumer","value","currentPath","current","frontmatter","path","sectionPath","sectionSeparator","nthIndex","substr","sectionPages","all","filter","o","startsWith","sort","a","b","toLowerCase","currentPageIndex","forEach","page","i","nextPart","length","this","props","t","Fragment","to","icon","title","withTranslation","tryToScrollToSelector","selector","window","element","document","querySelector","console","warn","scrollIntoView","e","ContentWrapper","article","UpLink","CourseContentTemplate","async","_userInfo$extra_field","location","hash","setTimeout","loggedIn","userInfo","getCachedUserDetails","undefined","extra_fields","research","navigate","data","htmlAst","allPages","edges","map","_o$node","node","partials","getNamedPartials","renderAst","rehypeReact","createElement","components","Compiler","parentSectionName","capitalizeFirstLetter","split","replace","parentSectionPath","filePath","fileAbsolutePath","substring","lastIndexOf","Helmet","Provider","LoginStateContextProvider","Layout","Container","contextType","LoginStateContext"],"sourceRoot":""}